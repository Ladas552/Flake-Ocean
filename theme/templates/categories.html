{% extends "base.html" %}
{% block seo_tags %}
<meta property="og:title" content="Categories - {{ config.title | title }}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{ config.rootUrl }}/categories" />
<meta property="og:description" content="Posts categories" />
<meta property="og:site_name" content="{{ config.title }}" />
<meta property="og:locale" content="{{ config.language }}" />
<link rel="canonical" href="{{ config.rootUrl }}/categories" />
<meta name="robots" content="index, follow" />
{% endblock seo_tags %}

{% block title %}Categories{% endblock title %}

{% block content %}
<h1>Categories</h1>
<p class="page-description">All the categories used in posts.</p>

<ul>
  {% for category in categories | sort %}
  {%- set_global cat_posts = 0 -%}
  {% for post in posts %}
  {% if category in post.categories %}
  {%- set_global cat_posts = cat_posts + 1 -%}
  {% endif %}
  {% endfor %}
  <li>
    <a href="/categories/{{ category }}">{{ category }}</a>
    <span class="text-muted">({{ cat_posts }} post{{ cat_posts | pluralize }})</span>
  </li>
  {% endfor %}
</ul>
{% endblock content %}